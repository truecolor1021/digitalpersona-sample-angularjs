<x-consent class="center-block well">
    <form ng-submit="$ctrl.submit()"
        ng-class="{
            slidedown: false,
            shakeOnError: $ctrl.error,
            busy: $ctrl.busy
        }">
        <h2>{{'Signup.Title' | translate }}</h2>
        <fieldset ng-disabled="$ctrl.busy">
            <fieldset>
                <legend>Login data</legend>
                <x-username
                    label="{{'Signup.Username' | translate}}"
                    value="{{$ctrl.username}}"
                    required="true"
                    on-change="$ctrl.updateUsername(value)"
                ></x-username>

                <x-password
                    label="{{ 'Password.Create.Title' | translate }}"
                    show-password="$ctrl.showPassword"
                    on-change="$ctrl.updatePassword(value)"
                ></x-password>
                <x-password
                    label="{{ 'Password.Create.Repeat' | translate }}"
                    match="$ctrl.password"
                    show-password="$ctrl.showPassword"
                ></x-password>
            </fieldset>
            <fieldset>
                <legend>{{'Profile.Info.Title'|translate}}</legend>
                <p ng-bind="'Profile.Info.Description'|translate"></p>

                <x-text
                    label="{{'Profile.Info.Email.Prompt'| translate}}"
                    required="false"
                    on-change="$ctrl.updateEmail(value)"
                ></x-text>

                <x-text
                    label="{{'Profile.Info.DisplayName.Prompt'|translate}}"
                    required="false"
                    on-change="$ctrl.updateDisplayName(value)"
                ></x-text>
            </fieldset>
            <x-alert status="$ctrl.status"></x-alert>

            <button
                type="submit"
                class="btn btn-primary"
                ng-disabled="!$ctrl.username || !$ctrl.password"
                ng-bind="'Signup.Title' | translate"></button>
        </fieldset>
    </form>
</x-consent>
